<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Red 项目最早始于 2011 年，项目由 Nenad Rakocevic 主导。Red 语言是一种同时具有函数式、声明式、符号式特性的现代编程语言，其目标是构建成一个全栈编程语言。Red 语言受到 Rebol 语言启发，两者语法高度相似。和 Rebol 语言只能解释执行不同，Red 语言还提供了 AOT 编译（生成独立的可执行文件）功能，在未来还将支持 JIT 编译。
Red 语言的主要特性："><title>有趣的编程语言 Red &#183; 白汤四物</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/rainbow.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css crossorigin=anonymous referrerpolicy=no-referrer><link href rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-3GNL63B62Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3GNL63B62Q")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><main data-pagefind-body><div class="page post"><h1 class=post-title data-pagefind-meta=title>有趣的编程语言 Red</h1><div class=post-line></div><div class=post-info><span>作者</span>
<span data-pagefind-meta=作者>Fournoas
</span><span>写于&nbsp;</span><time datetime="2025-04-08 00:00:00 +0000 UTC" data-pagefind-meta=日期>2025年4月8日</time>
<span>发布在&nbsp;</span><ul class=categories><li><a data-pagefind-filter=分类 href=/categories/coding/>Coding</a></li></ul></div><p>Red 项目最早始于 2011 年，项目由 <a href=https://github.com/dockimbel target=_blank rel=noopener>Nenad Rakocevic</a> 主导。Red 语言是一种同时具有函数式、声明式、符号式特性的现代编程语言，其目标是构建成一个全栈编程语言。Red 语言受到 Rebol 语言启发，两者语法高度相似。和 Rebol 语言只能解释执行不同，Red 语言还提供了 AOT 编译（生成独立的可执行文件）功能，在未来还将支持 JIT 编译。</p><p>Red 语言的主要特性：</p><ul><li>多编程范式：命令式、函数式、符号式</li><li>基于原型的面向对象</li><li>跨平台</li><li>支持解释执行和静态编译</li><li>垃圾回收</li><li>面向底层系统编程的 Red/System 方言</li><li>内置 GUI 组件</li><li>元编程：code as data, homoiconicity</li></ul><p><strong>最神奇之处在于，这样一个全能的语言，它的编译器大小仅 1MB 多</strong>。</p><h2 id=安装>安装</h2><p>在 Windows 上可以使用 Scoop 安装 Red 编译器：</p><pre><span class=code-lang>powershell</span><code class=language-powershell>scoop install red-toolchain	
scoop install red       # 命令行控制台/解释器（可选）
scoop install red-view  # GUI 控制台/解释器（可选）</code></pre><p>以下是一个 Red 语言的 Hello World 示例：</p><figure class=code><pre><span class=code-lang>red</span><code data-ln-selected data-ln-start-from data-ln=false class=language-red>Red [title: &#34;Hello World&#34;]
 
print &#34;Hello World!&#34;</code></pre><figcaption>hello.red</figcaption></figure><h2 id=交叉编译>交叉编译</h2><p>Red 语言工具链只需要简单的参数设置便可以实现交叉编译。目前支持的编译目标平台有：</p><pre><code class=language-text>MSDOS        : Windows, x86, console (&#43; GUI) applications
Windows      : Windows, x86, GUI applications
WindowsXP    : Windows, x86, GUI applications, no touch API
Linux        : GNU/Linux, x86, console (&#43; GUI) applications
Linux-GTK    : GNU/Linux, x86, GUI only applications
Linux-musl   : GNU/Linux, x86, musl libc
Linux-ARM    : GNU/Linux, ARMv5, armel (soft-float)
RPi          : GNU/Linux, ARMv7, armhf (hard-float)
RPi-GTK      : GNU/Linux, ARMv7, armhf (hard-float), GUI only applications
Pico         : GNU/Linux, ARMv7, armhf (hard-float), uClibc
Darwin       : macOS Intel, console or GUI applications
macOS        : macOS Intel, GUI-only, applications bundles
Syllable     : Syllable OS, x86
FreeBSD      : FreeBSD, x86
NetBSD       : NetBSD, x86
Android      : Android, ARMv5
Android-x86  : Android, x86</code></pre><p>使用以下命令可以在 Windows 上分别交叉编译 Windows、Linux 和 macOS 的可执行文件：</p><pre><span class=code-lang>powershell</span><code class=language-powershell>red-toolchain -t MSDOS hello.red    # MSDOS 指 Windows 控制台程序
red-toolchain -t Linux hello.red
red-toolchain -t Darwin hello.red</code></pre><p>目前，Red 只能编译生成 32 位程序，计划未来支持 64 位。</p><h2 id=gui-示例>GUI 示例</h2><p>Red 还自带一套简易的 GUI 组件，这使其拥有了跨平台 GUI 开发能力。</p><pre><span class=code-lang>red</span><code class=language-red>Red [title: &#34;GUI Example&#34; needs: &#39;view]
 
view [
    title &#34;GUI Example&#34;
    below
    input: field 400x30 &#34;Input some text here&#34;
    across
    button &#34;Show&#34; [
        message: input/text
        alert message
    ]
    button &#34;Exit&#34; [unview]
]</code></pre><p>Red 为 GUI 引擎设计了一套 DSL 方言和一个响应式框架。该 GUI 底层在 Windows 下使用原生 API，在 Linux 下使用 Gtk3，在 macOS 下使用 Cocoa。不过 UI 组件数量很少，没多少实用价值。</p><h2 id=嵌入-redsystem>嵌入 Red/System</h2><p>Red/System 是 Red 的底层开发方言，使用静态类型和手动内存管理，类似于 C 语言。可以在普通 Red 代码中嵌入 Red/System 代码进行混合编程。此外，Red 源代码也是通过转译成 Red/System 后进行编译的。</p><p>下面代码展示了在 Red 中调用本地 Windows API <code>MessageBox()</code> 弹出消息框：</p><pre><span class=code-lang>red</span><code class=language-red>Red [title: &#34;MessageBox Hello World&#34;]
 
#system [
    #import [ &#34;user32.dll&#34; stdcall [
        message-box: &#34;MessageBoxA&#34; [
            hWnd     [integer!]
            pText    [c-string!]
            pTitle   [c-string!]
            uFlag    [integer!]
            return:  [integer!]
        ]
    ]]
]
 
show-msg: routine [
    text   [string!]
    title  [string!]
    /local
        c-text [c-string!]
        c-title [c-string!]
][
    c-text: as c-string! string/rs-head text
    c-title: as c-string! string/rs-head title
    message-box 0 c-text c-title 0
]
 
show-msg &#34;World&#34; &#34;Hello&#34;</code></pre><div class=note><div class=note-header><span class=note-title>吐槽一下</span></div><div class=note-content><p>Red 的文档几乎没有，示例代码十分有限，社区也几乎不存在。相关资源有限，因此别指望 AI 能写出正确的 Red 代码。上述代码是我根据 Red 编译器源代码写出来的，而 AI 写的代码没有一例可以通过编译。</p></div></div><h2 id=homoiconicity>Homoiconicity</h2><p><a href=https://en.wikipedia.org/wiki/Homoiconicity target=_blank rel=noopener>Homoiconicity</a> 一般翻译成<strong>同像性</strong>，也就是通常所说的<strong>代码即数据</strong> (code as data)。简单地说，就是该语言的代码可以像数据一样进行操作，从而实现元编程。</p><p>Red 语言通过 <strong>Block</strong> 实现同像性。比如代码 <code>block-example: [1 2 foo "foo" "bar" bar]</code>，其中方括号包起的部分就表示一个 Block，并将其赋值给 <code>block-example</code> 变量。Block 即可以用来表示列表，又可以用来表示字典，还可以用来表示代码。不同于 Lisp 系语言，Red 不需要显式声明 Block 的类型，编译器会根据上下文自动识别。</p><pre><span class=code-lang>red</span><code class=language-red>block-example: [3 2 1 foo &#34;bar&#34; name &#34;Tony&#34;]
 
; 将 block 当作列表访问
probe block-example/1    ; 3
probe block-example/5    ; &#34;bar&#34;
 
; 将 block 当作字典访问
probe block-example/foo  ; &#34;bar&#34;
probe block-example/name ; &#34;Tony&#34;
 
; 删除 block 中倒数第二个元素 name
remove at block-example (length? block-example) - 1
probe block-example      ; [3 2 1 foo &#34;bar&#34; &#34;Tony&#34;]
 
; 将 block 当作代码运行，block 的最后一个元素会作为返回值
foo: func [arg] [print [&#34;The arg is:&#34; arg]]
result: do block-example ; The arg is: bar
probe result             ; &#34;Tony&#34;</code></pre><p>其中，内置函数 <code>probe</code> 用于打印变量内容；内置函数 <code>do</code> 用于运行 Block 代码；斜杠 <code>/</code> 表示路径分隔，类似其他语言里的 <code>.</code> 或 <code>-></code>。</p><h2 id=总结>总结</h2><p>Red 语言太小众了，社区孱弱，文档缺失。它目前远远未达到可用阶段，1.0 版本还遥遥无期。另外缺点也不少，比如错误信息可读性差，也缺乏调试工具。只能算是一个有趣的玩具吧。</p><p>Red 语言让人别扭的一点是，由于 Red 的标识符允许包含特殊字符 (<code>+ - : ? & * _ ! ' &lt; > | ~</code> 等)，因此标识符和运算符之间必须用空格分隔。比如 <code>a-b</code> 和 <code>a - b</code> 完全是两个意思：</p><pre><span class=code-lang>red</span><code class=language-red>a: 2
b: 1
a-b: 999

probe a-b    ; 999
probe a - b  ; 1</code></pre><p>另外 Red 也没有运算符优先级的概念。比如 <code>x: 1 + 2 / 3 * 4</code> 的值是 4，等价于 <code>x: ((1 + 2) / 3) * 4</code>。</p></div><div class=taxonomy data-pagefind-ignore></div><div class=pagination data-pagefind-ignore><a href=/posts/japanese-views-of-Shanghai-from-bakumatsu-to-meiji-period/ class="left arrow">上一篇：<br>幕末·明治时期日本人对上海认识的轨迹</a>
<a href=/posts/free-pascal-link-c-cpp-static-libraries/ class="right arrow">下一篇：<br>Free Pascal 链接 C/C++ 静态库</a>
<a href=# class=top>返回顶部</a></div></main><script src=/js/page.js></script><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/scala.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nim.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/powershell.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nginx.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/delphi.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/dos.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/haxe.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-svelte/dist/svelte.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-zig/dist/zig.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-redbol/dist/redbol.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=/js/code.js></script><script>hljs.highlightAll(),hljs.initLineNumbersOnLoad(),hljs.initSelectLines()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js crossorigin=anonymous referrerpolicy=no-referrer onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})})</script><footer><span>&copy; <time datetime="2025-05-26 07:42:11.257088857 +0000 UTC m=+1.162561513">2025</time> fournoas.com. Powered by <a href=https://gohugo.io/>Hugo</a> v0.147.5.</span></footer></body></html>