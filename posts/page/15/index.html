<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>文章 &#183; 白汤四物</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link href=/posts/index.xml rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-153840298-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-153840298-1")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><div class=banner><main><ul class=breadcrumb><li>文章</li></ul></main></div><main class=main><div class=catalogue><div class=catalogue-item><time datetime="2015-07-24 00:00:00 +0000 UTC" class=catalogue-time>2015年7月24日</time>
<a href=https://www.fournoas.com/posts/the-birth-of-a-language-3/ class=catalogue-title>一个语言的诞生（Act III）</a><div class=catalogue-line></div><p>第三幕 垃圾回收 看过微软 .net coreclr 的源代码后，觉得 Lua、PHP 和 Python 的垃圾回收代码与之相比简直就是个玩具。而 Hotspot JVM 的垃圾回收算法更加复杂。 常见的垃圾回收技术能大致分成：引用计数、标记清理、标记缩并和节点复制几种。高级的技术有垃圾分代收集、渐进及并发收集、分布式垃圾收集。复杂的垃圾回收算法会&mldr;&mldr;</p></div><div class=catalogue-item><time datetime="2015-07-12 00:00:00 +0000 UTC" class=catalogue-time>2015年7月12日</time>
<a href=https://www.fournoas.com/posts/the-birth-of-a-language-2/ class=catalogue-title>一个语言的诞生（Act II）</a><div class=catalogue-line></div><p>第二幕 对象内存布局 那些不怎么“动态”的语言，比如C#和JAVA，一般都会把数据类型分成“值”和“引用”，值类型是分配在栈上的，引用类型是分配在堆上。而“动态”的语言，比如“PHP”和“Python”所有的数据都是动态分配在堆上的。这么做的缺点一是浪费内存，二是访问慢。浪费内存是因&mldr;&mldr;</p></div><div class=catalogue-item><time datetime="2015-07-11 00:00:00 +0000 UTC" class=catalogue-time>2015年7月11日</time>
<a href=https://www.fournoas.com/posts/the-birth-of-a-language-1/ class=catalogue-title>一个语言的诞生（Act I）</a><div class=catalogue-line></div><p>第一幕 哈希表 哈希表是动态脚本语言的基石。动态语言中，全局变量表、全局字符串表、对象虚函数表、元数据表皆为哈希表。欲实现语言，则必先实现哈希表。 哈希表原理很简单，不再赘述。不同语言实现的哈希表主要区别在于处理碰撞的机制不同。一种叫“Separate chaining”，PHP的哈希表&mldr;&mldr;</p></div><div class=catalogue-item><time datetime="2015-07-11 00:00:00 +0000 UTC" class=catalogue-time>2015年7月11日</time>
<a href=https://www.fournoas.com/posts/the-birth-of-a-language-prologue/ class=catalogue-title>一个语言的诞生（Prologue）</a><div class=catalogue-line></div><p>一直琢磨着自己实现一个脚本语言。因为懒，直到最近才动手。 构想中的语言语法类似ActionScript，支持GC、闭包、Lambda表达式、协程、尾递归优化、迭代器/生成器、允许（编译期）强类型绑定的可嵌入式动态脚本语言。基础类型支持NULL、布尔型、32位整型、64位长整型、双精&mldr;&mldr;</p></div><div class=catalogue-item><time datetime="2015-06-26 00:00:00 +0000 UTC" class=catalogue-time>2015年6月26日</time>
<a href=https://www.fournoas.com/posts/cross-platform-development-using-c-lang/ class=catalogue-title>跨平台 C 语言开发</a><div class=catalogue-line></div><p>通过 WIN32 宏来判断是否为 Windows 平台。64位 Windows 也会定义 WIN32 宏，此外还定义 WIN64 宏，有些编译器可能是 Windows、__WIN32__、WIN32、_WIN64 通过 _MSC_VER 宏判断是否是VC编译器 通过 __GNUC__ 宏来判断是否为 gcc 编译器 Windows 平台上的 gcc 编译器支持__declspec(dllimport) 和 __declspec(dllexport) Linux 平台上 gcc 通过&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/C/C++/>C/C++</a></li></ul></div><div class=catalogue-item><time datetime="2015-06-25 00:00:00 +0000 UTC" class=catalogue-time>2015年6月25日</time>
<a href=https://www.fournoas.com/posts/data-structure-alignment-in-lua-source-code/ class=catalogue-title>Lua 源代码中的字节对齐</a><div class=catalogue-line></div><p>Lua 源码中定义了一个叫 L_Umaxalign 的数据类型： typedef union { double u; void *s; lua_Integer i; long l; } L_Umaxalign; 这个结构其实是该平台上最长的数据类型。然后和 TString 和 Udata 结构定义成一个联合体： typedef union UTString { L_Umaxalign dummy; /* ensures maximum alignment for strings */ TString tsv; } UTString; typedef union UUdata { L_Umaxalign dummy; /* ensures maximum alignment for 'local' udata */ Udata uv; } UUdata; 之所以这样处理是因为 TString 和 Udata 其实是一块连续内存区域的头部，后面紧跟实体数据。为了&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Lua/>Lua</a></li></ul></div><div class=catalogue-item><time datetime="2015-05-31 00:00:00 +0000 UTC" class=catalogue-time>2015年5月31日</time>
<a href=https://www.fournoas.com/posts/scallion-pancake/ class=catalogue-title>葱油饼</a><div class=catalogue-line></div><p>制作了三次葱油饼，累积了一些心得体会，特此记录。 第一次使用的是高筋粉掺低筋粉（家里没有中筋粉）冷水和面，煎出来饼很硬不好吃；第二次使用中筋粉沸水烫面，面团太黏不好操作；第三次用温水和面，制作技巧和油温控制都恰到好处，做出来和外面买的味道已经差不多了。 和面 使用30-40度左右的温水&mldr;&mldr;</p><ul class=catalogue-tags></ul></div><div class=catalogue-item><time datetime="2014-07-16 00:00:00 +0000 UTC" class=catalogue-time>2014年7月16日</time>
<a href=https://www.fournoas.com/posts/Rom%C3%A9o-et-Juliette-script/ class=catalogue-title>音乐剧《罗密欧与朱丽叶》中文歌词</a><div class=catalogue-line></div><p>第一幕 02．维罗纳 王子： 你们认为自己什么都见过 你们游历天下，包揽群书 没有什么能让你们吃惊 欢迎来到维罗纳 你们认为人是善良的 因为他能写出美妙的歌 如果你觉得这一首歌很优美 欢迎来到维罗纳 当然，这里同别处一样 人们并不更坏，也并不更好 嗨！你们今夜来到我们这里 要么是个错误，要么纯属偶然 （副歌：&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/%E9%9F%B3%E4%B9%90%E5%89%A7/>音乐剧</a></li></ul></div><div class=catalogue-item><time datetime="2013-06-04 00:00:00 +0000 UTC" class=catalogue-time>2013年6月4日</time>
<a href=https://www.fournoas.com/posts/service-locator-and-dependency-injection-in-php/ class=catalogue-title>PHP 中的服务定位和依赖注入</a><div class=catalogue-line></div><p>尝试了很多PHP框架，有轻量级的，也有企业级的，发现解耦都做得很不好，自由度都很差。Zend framework2.0 做得还不错，就是封装太多，不够轻量。 一、创建对象 从最原始的new操作符，到abstract factory或builder等经典创建模式，都不能满足人民群众日益高涨的解耦需求。后来，MF创&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/PHP/>PHP</a></li></ul></div><div class=catalogue-item><time datetime="2012-03-14 00:00:00 +0000 UTC" class=catalogue-time>2012年3月14日</time>
<a href=https://www.fournoas.com/posts/the-giving-plague/ class=catalogue-title>赐予的瘟疫</a><div class=catalogue-line></div><p>作者：DAVID BRIN 一 你以为快要得到我了，是不是？来吧，你会发现我正等着你呢。 这就是为什么我的钱包里有一张伪造的卡片，上面注明我的血型是ＡＢ－，药物标签注明我对青霉素、阿斯匹林和苯氨基丙酸过敏；还注明我是一个虔诚的、身体力行的基督徒。在那必将到来的一天来早了的时候，所有这些小计谋都&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4/>科幻小说</a></li></ul></div></div><div class=pagination><a href=/posts/page/14/ class="left arrow">上一页</a>
<a href=/posts/page/16/ class="right arrow">下一页</a>
<span><sup>15</sup> &frasl; <sub>16</sub></span></div></main><footer><span>&copy; <time datetime="2022-12-16 06:38:21.36067042 +0000 UTC m=+0.847252925">2022</time> fournoas.com. Powered by <a href=https://gohugo.io>Hugo</a> and <a href=https://pagefind.app>Pagefind</a>, theme by <a href=https://github.com/EmielH/tale-hugo>Tale</a>.</span></footer><script src=/js/main.js></script></body></html>