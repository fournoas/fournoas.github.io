<!doctype html><html lang=zh-cn><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="朴素技术博客"><title>白汤四物</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link href=/index.xml rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-153840298-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-153840298-1")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><div class=banner><main><blockquote><p>Ours is essentially a tragic age, so we refuse to take it tragically. The cataclysm has happened, we are among the ruins, we start to build up new little habitats, to have new little hopes. It is rather hard work: there is now no smooth road into the future: but we go round, or scramble over the obstacles. We've got to live, no matter how many skies have fallen.</p></blockquote><p align=right>― D.H. Lawrence, Lady Chatterley's Lover</p></main></div><main><div class=catalogue><div class=catalogue-item><time datetime="2023-03-14 00:00:00 +0000 UTC" class=catalogue-time>2023年3月14日</time>
<a href=https://www.fournoas.com/posts/send-ctrl-c-event-to-end-windows-console-process/ class=catalogue-title>发送 Ctrl+C 事件终止 Windows 控制台进程</a><div class=catalogue-line></div><p>偶然在 Nuitka 代码中发现一个未被触发的 BUG 。问题代码位于 OnefileBootstrap.c 的 cleanupChildProcess() 函数中： static void cleanupChildProcess(bool send_sigint) { // Cause KeyboardInterrupt in the child process. if (handle_process != 0) { if (send_sigint) { #if defined(_NUITKA_EXPERIMENTAL_DEBUG_ONEFILE_HANDLING) puts("Sending CTRL-C to child\n"); #endif #if defined(_WIN32) BOOL res = GenerateConsoleCtrlEvent(CTRL_C_EVENT, GetProcessId(handle_process)); if (res == false) { printError("Failed to send CTRL-C to child process.", GetLastError()); // No error exit is done, we still want to cleanup when it does exit } #else kill(handle_process, SIGINT); #endif } // TODO: We ought to only need to wait if there is a need to cleanup // files when we are on Windows, on Linux maybe exec can be used so // this process to exist anymore if there is nothing&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a></li></ul></div><div class=catalogue-item><time datetime="2023-03-13 11:32:20 +0800 +0800" class=catalogue-time>2023年3月13日 11:32:20</time><p class=head><a href=https://www.fournoas.com/moments/202303/1678678340/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>西方资产阶级宣誓礼：左右手按圣经或宪法，右手或握拳或伸掌或 Schwurhand 三指，口中喃喃自语，毫无诚意。</p><p>中华传统宣誓礼：斩鸡头烧黄纸，最后高喊：「若违此誓，不得好死、轮回畜生道、儿女永世为娼为奴。」</p></div></div><div class=catalogue-item><time datetime="2023-03-10 11:42:58 +0800 +0800" class=catalogue-time>2023年3月10日 11:42:58</time><p class=head><a href=https://www.fournoas.com/moments/202303/1678419778/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>111年前的今天，袁世凯在北京就任中华民国临时大总统。</p></div></div><div class=catalogue-item><time datetime="2023-03-08 22:48:03 +0800 +0800" class=catalogue-time>2023年3月8日 22:48:03</time><p class=head><a href=https://www.fournoas.com/moments/202303/1678286883/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>评论《<a href=https://www.douban.com/book/subject/25867570/ target=_blank rel=noopener>人生的智慧</a>》：</span></p><div class=catalogue-moment><p>补充两条中特智慧：</p><ol><li>别用尿滋小便池里的苍蝇🚽；</li><li>生活在粪坑边的聪明人看见苍蝇会选择闭嘴🤐️</li></ol></div></div><div class=catalogue-item><time datetime="2023-03-08 22:20:51 +0800 +0800" class=catalogue-time>2023年3月8日 22:20:51</time><p class=head><a href=https://www.fournoas.com/moments/202303/1678285251/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>冷知识：安全套的保质期有五年，比大多数爱情的保质期还长。</p></div></div><div class=catalogue-item><time datetime="2023-03-06 09:30:44 +0800 +0800" class=catalogue-time>2023年3月6日 09:30:44</time><p class=head><a href=https://www.fournoas.com/moments/202303/1678066244/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>已知，人在做天在看；又因为 big brother is watching you 。推得，老大哥就是天。</p></div></div><div class=catalogue-item><time datetime="2023-03-03 20:23:42 +0800 +0800" class=catalogue-time>2023年3月3日 20:23:42</time><p class=head><a href=https://www.fournoas.com/moments/202303/1677846222/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>问：中国为何不出台动物保护法或立法禁止虐待动物？</p><p>答：因为大善人见不得有人活得比动物还惨。</p></div><ul class=catalogue-tags><li>#<a href=/tags/Radio-Yerevan/>Radio Yerevan</a></li></ul></div><div class=catalogue-item><time datetime="2023-02-17 21:04:12 +0800 +0800" class=catalogue-time>2023年2月17日 21:04:12</time><p class=head><a href=https://www.fournoas.com/moments/202302/1676639052/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas</span>
<span class=action>说：</span></p><div class=catalogue-moment><p>Dear Tom,</p><p>Big Brother led us fight to the virus and science. But it was all right, everything was all right, the struggle was finished. We had won the victory over science. We loved Big Brother.</p><p>Yours, Li Hua</p><div class=images><div class="box img-preview" data-src=https://www.fournoas.com/moments/202302/1676639052/01.jpeg style=background-image:url(https://www.fournoas.com/moments/202302/1676639052/01.jpeg)></div></div></div></div><div class=catalogue-item><time datetime="2023-02-10 00:00:00 +0000 UTC" class=catalogue-time>2023年2月10日</time>
<a href=https://www.fournoas.com/posts/compile-python-script-to-windows-service-using-nuitka/ class=catalogue-title>使用 Nuitka 将 Python 程序编译为 Windows 服务</a><div class=catalogue-line></div><p>2023-02-14 更新： 原来 Nuitka 商业版通过插件已经实现了编译 Windows service 的功能，但开源版本不提供此功能。掏钱是不可能掏钱的。本人 fork 了 Nuitka 项目，加入了编译 Windows service 的功能，只要在编译时加入 --windows-service 参数就将 Python 程序能构建成 Windows service 了： pip install nuitka-winsvc nuitka --onefile --windows-service --windows-service-name=myservice main.py 项目地址： https://github.com/tabris17/Nuitka-winsvc 在前文《Nuitka 编译时注入自定义 C 代码》中介绍了在 Nuitka 编译时注入自&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Python/>Python</a></li><li>#<a href=/tags/Nuitka/>Nuitka</a></li></ul></div><div class=catalogue-item><time datetime="2023-02-08 00:00:00 +0000 UTC" class=catalogue-time>2023年2月8日</time>
<a href=https://www.fournoas.com/posts/nuitka-inject-custom-c-code-at-compile-time/ class=catalogue-title>Nuitka 编译时注入自定义 C 代码</a><div class=catalogue-line></div><p>Nuitka 是一款用 Python 实现的 Python 编译器，可以生成独立的可执行文件。其原理是生成 C 代码，然后使用 Scons 调用 C 编译器进行编译构建。据说使用 Nuitka 编译后的程序性能比 CPython 更好，和传统的打包工具 py2exe 与 PyInstaller 相比， Nuitka 的优势相当明显。 Nuitka 的使用也十分简单。比如要将下面的 main.py 文件进行打包： # main.py print("Nuitka") 首先安装 Nuitka 和建议安装的三方库： pip&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Python/>Python</a></li><li>#<a href=/tags/Nuitka/>Nuitka</a></li></ul></div></div><div class=pagination><a href=/page/2/ class="right arrow">下一页</a>
<span><sup>1</sup> &frasl; <sub>32</sub></span></div></main><footer><span>&copy; <time datetime="2023-03-14 07:01:17.269316495 +0000 UTC m=+0.854496101">2023</time> fournoas.com. Powered by <a href=https://gohugo.io>Hugo</a> and <a href=https://pagefind.app>Pagefind</a>, theme by <a href=https://github.com/EmielH/tale-hugo>Tale</a>.</span></footer><script src=/js/main.js></script></body></html>