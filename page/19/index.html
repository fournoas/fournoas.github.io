<!doctype html><html lang=zh-CN><head><meta name=generator content="Hugo 0.147.9"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="朴素技术博客"><title>白汤四物</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/rainbow.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css crossorigin=anonymous referrerpolicy=no-referrer><link href rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-3GNL63B62Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3GNL63B62Q")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><div class=banner><main><blockquote><p>Ours is essentially a tragic age, so we refuse to take it tragically. The cataclysm has happened, we are among the ruins, we start to build up new little habitats, to have new little hopes. It is rather hard work: there is now no smooth road into the future: but we go round, or scramble over the obstacles. We've got to live, no matter how many skies have fallen.</p></blockquote><p align=right>― D.H. Lawrence, Lady Chatterley's Lover</p></main></div><main><div class=catalogue><div class=catalogue-item><time datetime="2022-10-20 00:00:00 +0000 UTC" class=catalogue-time>2022年10月20日</time>
<a href=/posts/monte-carlo-simulation-of-a-middle-school-math-olympiad-problem/ class=catalogue-title>一道初中奥数题的蒙特卡洛解法</a><div class=catalogue-line></div><div class=catalogue-summary><figure><img src=/posts/monte-carlo-simulation-of-a-middle-school-math-olympiad-problem/problem.jpg alt=四只鸭子在一个圆形水池中随机游动。某一时刻，四只鸭子在同一半圆内的概率是多少？><figcaption><p>四只鸭子在一个圆形水池中随机游动。某一时刻，四只鸭子在同一半圆内的概率是多少？</p></figcaption></figure><p>这个问题必须隐含一个前提：当水池被分为两半后，任意一只鸭子，要么属于这一边，要么属于另一边，不存在同时属于两边或不属于任何一边的情况。可以把鸭子视作质点，如果鸭子正好落在分割线上，则认为此鸭子属于顺时针方向的一侧。</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags><li>#<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a></li><li>#<a href=/tags/Python/>Python</a></li></ul></div><div class=catalogue-item><time datetime="2022-10-18 00:00:00 +0000 UTC" class=catalogue-time>2022年10月18日</time>
<a href=/posts/adding-full-text-search-to-a-hugo-static-website/ class=catalogue-title>为 Hugo 静态网站添加全文检索功能</a><div class=catalogue-line></div><div class=catalogue-summary><p><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 是一种使用 Go 语言编写的静态网站构建工具。在其官网文章《<a href=https://gohugo.io/tools/search/ target=_blank rel=noopener>Search for your Hugo Website</a>》中，介绍几种为静态网站添加全文检索功能的方法。本文采用 <a href=https://pagefind.app/ target=_blank rel=noopener>Pagefind</a> 为纯静态网站实现全文检索功能。</p><p>Pagefind 是一个独立的命令行工具，可以通过 <code>npm install pagefind</code> 来安装。其原理是：运行 Pagefind 命令，扫描所有静态网页并生成索引；用户搜索时，通过网页中内嵌的 JavaScript 脚本来访问预先生成的索引，从而实现静态全文检索。</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags><li>#<a href=/tags/Hugo/>Hugo</a></li></ul></div><div class=catalogue-item><time datetime="2022-10-13 00:00:00 +0000 UTC" class=catalogue-time>2022年10月13日</time>
<a href=/posts/hide-mastodon-site-information-and-user-toots-list/ class=catalogue-title>隐藏 Mastodon 站点信息和用户嘟文列表</a><div class=catalogue-line></div><div class=catalogue-summary><p>Mastodon 实例默认会在网页版中显示站点的用户数量和嘟文数量。此外，用户主页上会显示所有公开的嘟文。但是对于自建实例，有时候你并不想让别人可以通过网页来访问这些信息和数据。本文以 <a href=https://github.com/mastodon/mastodon/releases/tag/v3.1.3 target=_blank rel=noopener>Mastodon v3.1.3</a> 为例，通过修改代码来实现隐藏目的。本文提供的方法未在其他版本上验证，可能会不兼容。</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags><li>#<a href=/tags/Mastodon/>Mastodon</a></li></ul></div><div class=catalogue-item><time datetime="2022-10-12 00:00:00 +0000 UTC" class=catalogue-time>2022年10月12日</time>
<a href=/posts/anonymous-creator-license/ class=catalogue-title>佚名创作者许可</a><div class=catalogue-line></div><div class=catalogue-summary><p>很多人希望自己发布在个人社交网络空间或者其他小圈子的内容不要被署名转发至他处。换句话说，作者不介意别人转发、修改或再次创作自己的作品，但是不希望再次发布的时候携带原作者的信息以及原始内容的出处，比如用户不希望自己发表的内容被别人以完整截图的形式转发。因此，我模仿 BSD License 的内容，起草了一份「佚名创作者许可 v1.0」，简称 AC 许可，全文如下：</p><p>&mldr;&mldr;</p></div></div><div class=catalogue-item><time datetime="2022-10-09 00:00:00 +0000 UTC" class=catalogue-time>2022年10月9日</time>
<a href=/posts/javascript-prototypal-inheritance/ class=catalogue-title>JavaScript 的原型继承</a><div class=catalogue-line></div><div class=catalogue-summary><figure><img src=/posts/javascript-prototypal-inheritance/prototype.jpg alt=一张经常被使用的关系图><figcaption><p>一张经常被使用的关系图</p></figcaption></figure><p>JavaScript 中的每个对象都有一个 <code>[[Prototype]]</code> 的内部属性，该属性指向的对象就是当前对象的<strong>原型</strong>。每个原型对象也有自己的原型，依次向上遍历形成<strong>原型链</strong>。当我们访问一个对象的属性或者方法时，如果在当前对象中没有找到该属性或者方法，会通过原型链依次从原型对象中查找，从而实现对象继承的功能。我们可以通过 <code>__proto__</code> 属性或者 <code>Object.getPrototypeOf()</code> / <code>Object.setPrototypeOf()</code>方法来访问对象的原型：</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags><li>#<a href=/tags/JavaScript/>JavaScript</a></li></ul></div><div class=catalogue-item><time datetime="2022-09-30 00:00:00 +0000 UTC" class=catalogue-time>2022年9月30日</time>
<a href=/posts/the-crowd-on-the-internet/ class=catalogue-title>网络乌合之众</a><div class=catalogue-line></div><div class=catalogue-summary><p>起因是某天在网上看到如下视频：</p><video controls><source src=/posts/the-crowd-on-the-internet/01.mp4 type=video/mp4></video><p>视频下面的评论自然是一边倒地谴责打人的男孩和教唆打人的家长，也有指责看客冷漠，还有人发动群众要对男孩进行网暴，甚至发出死亡威胁的。</p><p>大部分人通过这个视频，会脑补出一部「野蛮家长霸凌孤儿寡母，冷漠看客袖手旁观」的苦情剧。然后键盘看客们按耐不住的「正义感」就喷薄而出，大有致「施暴者」于死地而后快的势头。但是只要认真看完视频可以发现，那个所谓的「施暴者」男孩并不太会打架，甚至动作有些胆怯，再结合视频开头男孩的父亲拉开男孩衣领，对周围人说的那句「都给我们抓破了」，我们还能脑补出另外一个故事：打人的男孩之前被女人怀里的那个孩子欺负了，他的父亲和女人理论，女人非但不道歉，还说：「小孩子打架又没啥关系」之类的话激怒了男孩的父亲。气急败坏的父亲心里肯定想：「你不是小孩子打架没关系么，那我就让我家孩子揍你家娃」，于是就发生了视频中的那一幕。</p><p>&mldr;&mldr;</p></div></div><div class=catalogue-item><time datetime="2022-09-27 14:40:08 +0800 +0800" class=catalogue-time>2022年9月27日 14:40:08</time><p class=head><a href=/moments/202209/1664260808/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>分享《<a href=https://www.163.com/dy/article/FUV586IU0521RRV8.html target=_blank rel=noopener>贾樟柯：在北美遭遇的年轻爱国者，把我惊成了傻子！</a>》：</span></p><div class=catalogue-moment><p>这不是爱国主义。它们在乎仅仅是自己在洋大人跟前的面子，为了自己的面子，它们可以完全不在乎自己同胞的死活。它们打心底里自卑，比任何人都更加看不起自己的国家，所以才会表现出这种近乎病态的自尊。</p><p>这叫「爱国恐怖主义」！</p><blockquote><p>这次大会安排给我的翻译是一个原籍天津的女孩。她八岁出国在加拿大长大。翻译的中文口语非常熟练，只是我从小被学校训练，习惯用书面语演讲，这给她添了些麻烦。当我谈到“没有细节的历史是抽象的”时，她一时找不到恰当的措辞就翻译成了“历史是模糊的”。<br>这时候，戏剧性的一刻发生了——台下一位年龄不超过二十五岁的中国女生，突然站起来打断我的发言，高声说道：“翻译在篡改导演的讲话!”<br>剧场瞬间安静下来，人们被这一幕搞懵了，都愣在那里。那位中国女生突然用英文讲起来，然后又把自己的话翻译成中文，她说：导演说历史是抽象的，而翻译却故意翻译成历史是模糊的。让西方观众以为中国不重视历史，什么都是模糊的，这是别有用心地抹黑中国!<br>我愣在那里，一下子没想明白“抽象”和“模糊”的区别，因为同时我在想另一个问题，一个翻译上的错误，是不是有必要上纲上线说成故意抹黑中国。<br>我一时想不明白，好在主持人换了话题问我，我开始继续介绍电影。过了一会，当我从舞台上走下来的时候，这位女生突然拉住我激动地说：你的翻译是不是台湾人，看样子应该是台湾人，她在故意歪曲你的讲话，她在抹黑中国，她应该是“台独分子”。<br>我说：不，她是天津人。<br>她愣了一下突然跑到旁边的新华社记者那里，面对摄影机说：刚才那个翻译歪曲导演的讲话，她在西方人面前讲中国人不尊敬历史，中国的历史是模糊的，你们一定要把这个事情揭露出来。<br>我像局外人一样，站在一边看着这位女生。<br>她将个人、政府、国家概念模糊在了一起，为了虚无的面子，可以无视一切，这就是她的“爱国主义”吗?<br>她的低龄也让我吃惊，是什么造就了一个生活在北美的中国女孩如此激烈的国家主义信仰，和如此脆弱的国家信心?<br>不是在北京，而是在北美，让我遭遇了年轻的“爱国者”。<br>……<br>意外的是有一位女生，二十岁左右怯生生的样子，放映后她问：<br>导演，我想问你一个会让你不愉快的问题，你为什么要拍这样脏兮兮的上海，拍这些有政治色彩的人，给西方人看吗?<br>我说：我在拍上海的某个侧面，上海除了浦东、淮海路之外，还有苏州河两岸密集的工业区，还有南市那些狭小的弄堂，生活就是这个样子，上海就是这个样子。<br>女生突然愤怒起来：那你有没有考虑，你的电影被外国人看到，会影响他们对上海、对中国的印象，甚至会影响外国人对中国投资的信心?<br>我也愤怒起来：想那么多外国人干吗?就为了那些投资，为了外国人怎么看中国，我们就忽视一种真实的存在吗?中国十三亿人口中有很多人依旧生活在贫穷的环境中，难道我们可以无视吗?<br>短暂的沉默后，女生对我轻蔑地一笑，说道：是啊！为了祖国的尊严，我们当然不应该描述那些人的情况。<br>我被她的话惊成了傻子，我突然发现了这些“爱国主义者”的逻辑。他们所谓的“爱国主义”就是基于那些虚幻的国家意识，而忽略活生生人的命运，这其实是畸形的爱国主义。<br>脱离人本主义的“爱国主义”是可怕的。<br>如果集体回避我们的社会问题，如果我们的文化没有能力反映我们生存中的真实困境，未来会怎么样呢?</p></blockquote></div></div><div class=catalogue-item><time datetime="2022-09-27 00:00:00 +0000 UTC" class=catalogue-time>2022年9月27日</time>
<a href=/posts/dummy-stub-spy-fake-and-mock-in-unit-test/ class=catalogue-title>单元测试中的 Dummy、Stub、Spy、Fake 和 Mock</a><div class=catalogue-line></div><div class=catalogue-summary><p>单元测试用来验证一个单元（模块、函数或类）的工作是否正常，测试过程通常需要其他单元进行配合。这种情况下，我们引入测试替身（Test doubles）来替代测试单元的外部依赖，使得测试单元能够顺利运行。这些测试替身分为五种，分别是：</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags></ul></div><div class=catalogue-item><time datetime="2022-09-23 00:00:00 +0000 UTC" class=catalogue-time>2022年9月23日</time>
<a href=/posts/python-MRO-and-C3-linearization/ class=catalogue-title>Python 的 MRO 和 C3 线性化</a><div class=catalogue-line></div><div class=catalogue-summary><p>MRO，即 Method Resolution Order、方法解析顺序，是 Python 对象调用父类方法时的遍历顺序。由于 Python 支持多重继承，类的继承关系可视作一个有向无环图，方法解析顺序就相当于拓扑排序——将图中节点线性排列。自 Python 2.3 起，新式类通过 <strong>C3 线性化</strong>算法来计算 MRO。</p><p>之所以被称作 C3，是因为算法符合如下三个特性（<strong>C</strong>onsistent with <strong>3</strong> properties）：</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags><li>#<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a></li><li>#<a href=/tags/Python/>Python</a></li></ul></div><div class=catalogue-item><time datetime="2022-09-19 09:55:05 +0800 +0800" class=catalogue-time>2022年9月19日 09:55:05</time><p class=head><a href=/moments/202209/1663552505/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><div class=images><div class="box img-preview" data-src=/moments/202209/1663552505/01.png style=background-image:url(/moments/202209/1663552505/01.png)></div></div></div></div></div><div class=pagination><a href=/page/18/ class="left arrow">上一页</a>
<a href=/page/20/ class="right arrow">下一页</a>
<span><sup>19</sup> &frasl; <sub>46</sub></span></div></main><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/scala.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nim.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/powershell.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nginx.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/delphi.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/dos.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/haxe.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-svelte/dist/svelte.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-zig/dist/zig.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-redbol/dist/redbol.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=/js/code.js></script><script>hljs.highlightAll(),hljs.initLineNumbersOnLoad(),hljs.initSelectLines()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js crossorigin=anonymous referrerpolicy=no-referrer onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})})</script><footer><span>&copy; <time datetime="2025-07-08 02:53:19.939910532 +0000 UTC m=+0.398382915">2025</time> fournoas.com. Powered by <a href=https://gohugo.io/>Hugo</a> v0.147.9.</span></footer></body></html>