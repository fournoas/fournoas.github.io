<!doctype html><html lang=zh-CN><head><meta name=generator content="Hugo 0.136.4"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="朴素技术博客"><title>白汤四物</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/rainbow.min.css crossorigin=anonymous referrerpolicy=no-referrer><link href rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-3GNL63B62Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3GNL63B62Q")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><div class=banner><main><blockquote><p>Ours is essentially a tragic age, so we refuse to take it tragically. The cataclysm has happened, we are among the ruins, we start to build up new little habitats, to have new little hopes. It is rather hard work: there is now no smooth road into the future: but we go round, or scramble over the obstacles. We've got to live, no matter how many skies have fallen.</p></blockquote><p align=right>― D.H. Lawrence, Lady Chatterley's Lover</p></main></div><main><div class=catalogue><div class=catalogue-item><time datetime="2024-04-25 00:00:00 +0000 UTC" class=catalogue-time>2024年4月25日</time>
<a href=https://www.fournoas.com/posts/What-is-sensitivity-specificity-and-receiver-operating-characteristic/ class=catalogue-title>什么是灵敏度、特异性和 ROC 曲线</a><div class=catalogue-line></div><p><p>在循证医学中，会通过一些统计学指标来评估一种疾病诊断方法的有效性。比如在日常生活中经常听到的灵敏度、特异度、阳性预测值、阴性预测值，以及 ROC 曲线等。此外，这些指标也可以在计算机科学领域用于机器学习的模型评估。</p><p>以疾病诊断为例，一个人只存在有病（阳性）或没病（阴性）两种情况。对于这类二元分类模型，诊断（预测）结果分为四种：</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/%E7%BB%9F%E8%AE%A1%E5%AD%A6/>统计学</a></li></ul></div><div class=catalogue-item><time datetime="2024-04-12 00:00:00 +0000 UTC" class=catalogue-time>2024年4月12日</time>
<a href=https://www.fournoas.com/posts/rye-python-environment-and-package-management-tool/ class=catalogue-title>Rye！就决定是你了！</a>
<span class=catalogue-subtitle>Python 环境及包管理工具</span><div class=catalogue-line></div><p><p>涉及 Python 环境及包管理的工具七七八八加起来不下于十几种，看得人眼花缭乱。以至于患有选择困难症的本人还在坚持使用最原始 pip + venv 来构建 Python 运行环境。为了与时俱进，经过多方比较，最后选择了 Rye 作为今后的主力生产工具了。</p><blockquote><p>本来还有一个和 Rye 类似叫做 <a href=https://pdm-project.org/ target=_blank rel=noopener>PDM</a> 的备选工具。最后之所以选择了 Rye 基于以下几点原因：</p><ol><li>Rye 可以通过 Scoop 命令直接安装，而 PDM 不支持（可以通过添加第三方 bucket 进行安装）；</li><li>Rye 支持使用性能更好的 <a href=https://github.com/astral-sh/uv target=_blank rel=noopener>uv</a> 作为包安装器；</li><li>Rye 支持类似于 <a href=https://pipx.pypa.io/ target=_blank rel=noopener>pipx</a> 的全局安装，并且安装的 Python 工具可以直接运行，而 PDM 需要使用 <code>pdm run -g &lt;pkg></code> 命令来运行；</li><li>Rye 采用 rust 语言编写，性能优于采用 Python 编写 PDM。</li></ol></blockquote><h2 id=安装和配置>安装和配置</h2><p>使用 Scoop 进行安装 Rye 和其他相关工具：</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Python/>Python</a></li></ul></div><div class=catalogue-item><time datetime="2024-03-15 00:00:00 +0000 UTC" class=catalogue-time>2024年3月15日</time>
<a href=https://www.fournoas.com/posts/WSL-tips/ class=catalogue-title>WSL 使用技巧</a><div class=catalogue-line></div><p><p>Windows Subsystem for Linux 是 Windows 上运行 Linux 环境的兼容层。WSL 有两个版本，分别是 WSL 1 和 WSL 2，后者现在是 Windows 默认安装的版本。两个版本在底层实现上有很大区别，WSL 1 通过 <em>lxss.sys</em> 和 <em>lxcore.sys</em> 这两个 Windows 内核驱动来模拟 Linux 内核，而 WSL 2 通过 Hyper-V 虚拟机托管运行了一个经过优化过的 Linux 内核，能够提供完整的 Linux 系统调用，并支持 systemd 和 IPv6。缺点是跨系统的文件系统访问性能比 WSL 1 差很多（但 WSL 2 的文件 IO 性能比 WSL 1 的更好）。因此，<strong>当使用 WSL 作为开发环境时，建议不要将源代码存放在 Windows 的文件系统下</strong>。</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/WSL/>WSL</a></li></ul></div><div class=catalogue-item><time datetime="2024-03-08 11:38:33 +0800 +0800" class=catalogue-time>2024年3月8日 11:38:33</time><p class=head><a href=https://www.fournoas.com/moments/202403/1709869113/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><p>很抱歉，小时候看的都是盗版。</p><p>谢谢你，再见了，鸟山明先生。童年能遇到您的作品真是太好了。</p><div class=images><div class="box img-preview" data-src=https://www.fournoas.com/moments/202403/1709869113/01.png style=background-image:url(https://www.fournoas.com/moments/202403/1709869113/01.png)></div></div></div></div><div class=catalogue-item><time datetime="2024-03-08 00:00:00 +0000 UTC" class=catalogue-time>2024年3月8日</time>
<a href=https://www.fournoas.com/posts/find-windows-system-default-font-name-and-font-file/ class=catalogue-title>获取 Windows 系统默认字体和对应的字体文件</a><div class=catalogue-line></div><p><p>自 Windows Vista 和 Windows Server 2008 开始，操作系统界面默认的字体为 <a href=https://learn.microsoft.com/en-us/typography/font-list/segoe-ui target=_blank rel=noopener>Segoe UI</a> ，而 Windows XP 及之前的系统界面默认字体为 Tahoma 。不过 Segoe UI 字体的字形并不包含包括汉字在内的东亚文字。中文版 Windows 使用微软雅黑作为默认中文字体。</p><p>其他语言的默认字体见下表：</p><table><thead><tr><th>语言</th><th>字体</th></tr></thead><tbody><tr><td>简体中文</td><td>Microsoft YaHei UI</td></tr><tr><td>繁体中文</td><td>Microsoft JhengHei UI</td></tr><tr><td>日文</td><td>Yu Gothic UI</td></tr><tr><td>韩文</td><td>Malgun Gothic</td></tr><tr><td>希伯来文</td><td>Gisha</td></tr><tr><td>泰文</td><td>Leelawadee</td></tr></tbody></table><p>不过相较于查表获取 Windows 系统的默认字体，使用 Windows API 来获取当前系统的默认字体会更加可靠。</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Windows/>Windows</a></li><li>#<a href=/tags/C/C++/>C/C++</a></li></ul></div><div class=catalogue-item><time datetime="2024-03-04 15:42:29 +0800 +0800" class=catalogue-time>2024年3月4日 15:42:29</time><p class=head><a href=https://www.fournoas.com/moments/202403/1709538149/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><p>暴君的专制使人们变成冷嘲，愚民的专制使人们变成死相。大家渐渐死下去，而自己反以为卫道有效，这才渐近于正经的活人。</p><p>世上如果还有真要活下去的人们，就先该敢说，敢笑，敢哭，敢怒，敢骂，敢打，在这可诅咒的地方击退了可诅咒的时代！</p></div></div><div class=catalogue-item><time datetime="2024-02-27 00:00:00 +0000 UTC" class=catalogue-time>2024年2月27日</time>
<a href=https://www.fournoas.com/posts/bugfix-openfl-textfield-IME-candidate-pane-invisible-issue/ class=catalogue-title>修复 OpenFL 的 TextField 不显示输入法候选词列表的问题</a><div class=catalogue-line></div><p><p>在前文《<a href=../cross-platform-GUI-framework-HaxeUI-trials/>试用跨平台 GUI 框架 HaxeUI</a>》中提到了 <a href=https://www.openfl.org/ target=_blank rel=noopener>OpenFL</a> 的 <a href=https://api.openfl.org/openfl/text/TextField.html target=_blank rel=noopener>TextField</a> 在启用输入法时无法显示候选词列表的问题。经过一番摸索，发现了问题出在了 <a href=https://www.libsdl.org/ target=_blank rel=noopener>SDL</a> 库的身上。</p><p>OpenFL 的底层基于 <a href=https://lime.openfl.org/ target=_blank rel=noopener>Lime</a> ，而 Lime 的桌面后端又是基于 SDL 。OpenFL 默认使用的 SDL 代码位于 <a href=https://github.com/openfl/libsdl target=_blank rel=noopener>openfl/libsdl</a> 。问题定位于源文件 <a href=https://github.com/openfl/libsdl/blob/master/src/video/windows/SDL_windowskeyboard.c target=_blank rel=noopener>SDL_windowskeyboard.c</a> 中的 <code>IME_init()</code> 函数中，只要将第 373 行的代码注释掉，就可以正常显示输入法候选词列表了：</p><figure class=code><pre><span class=code-lang>C&#43;&#43;</span><code data-ln-selected=373 data-ln-start-from=339 class=language-c++>static void
IME_Init(SDL_VideoData *videodata, HWND hwnd)
{
    if (videodata-&gt;ime_initialized)
        return;

    videodata-&gt;ime_hwnd_main = hwnd;
    if (SUCCEEDED(WIN_CoInitialize())) {
        videodata-&gt;ime_com_initialized = SDL_TRUE;
        CoCreateInstance(&amp;CLSID_TF_ThreadMgr, NULL, CLSCTX_INPROC_SERVER, &amp;IID_ITfThreadMgr, (LPVOID *)&amp;videodata-&gt;ime_threadmgr);
    }
    videodata-&gt;ime_initialized = SDL_TRUE;
    videodata-&gt;ime_himm32 = SDL_LoadObject(&#34;imm32.dll&#34;);
    if (!videodata-&gt;ime_himm32) {
        videodata-&gt;ime_available = SDL_FALSE;
        SDL_ClearError();
        return;
    }
    videodata-&gt;ImmLockIMC = (LPINPUTCONTEXT2 (WINAPI *)(HIMC))SDL_LoadFunction(videodata-&gt;ime_himm32, &#34;ImmLockIMC&#34;);
    videodata-&gt;ImmUnlockIMC = (BOOL (WINAPI *)(HIMC))SDL_LoadFunction(videodata-&gt;ime_himm32, &#34;ImmUnlockIMC&#34;);
    videodata-&gt;ImmLockIMCC = (LPVOID (WINAPI *)(HIMCC))SDL_LoadFunction(videodata-&gt;ime_himm32, &#34;ImmLockIMCC&#34;);
    videodata-&gt;ImmUnlockIMCC = (BOOL (WINAPI *)(HIMCC))SDL_LoadFunction(videodata-&gt;ime_himm32, &#34;ImmUnlockIMCC&#34;);

    IME_SetWindow(videodata, hwnd);
    videodata-&gt;ime_himc = ImmGetContext(hwnd);
    ImmReleaseContext(hwnd, videodata-&gt;ime_himc);
    if (!videodata-&gt;ime_himc) {
        videodata-&gt;ime_available = SDL_FALSE;
        IME_Disable(videodata, hwnd);
        return;
    }
    videodata-&gt;ime_available = SDL_TRUE;
    IME_UpdateInputLocale(videodata);
    IME_SetupAPI(videodata);
    videodata-&gt;ime_uiless = UILess_SetupSinks(videodata);
    IME_UpdateInputLocale(videodata);
    IME_Disable(videodata, hwnd);
}</code></pre><figcaption>src/video/windows/SDL_windowskeyboard.c</figcaption></figure><p>事实上，最新版的 SDL 已经修复了这个问题<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>，但是 OpenFL 使用的 SDL 代码已经很久没更新了。SDL 官方的修复方案是此处增加了一个条件判断：</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Haxe/>Haxe</a></li></ul></div><div class=catalogue-item><time datetime="2024-02-19 00:00:00 +0000 UTC" class=catalogue-time>2024年2月19日</time>
<a href=https://www.fournoas.com/posts/cross-platform-GUI-framework-HaxeUI-trials/ class=catalogue-title>试用跨平台 GUI 框架 HaxeUI</a><div class=catalogue-line></div><p><p><a href=https://www.haxeui.org/ target=_blank rel=noopener>HaxeUI</a> 是一款跨平台 GUI 框架，支持网页、桌面和移动端。 框架前端使用 Hexo 语言开发。框架后端使用图形引擎或者原生跨平台 GUI 框架，比如 OpenFL, NME, Kha,PixiJS, wxWidgets, Winforms 等。最终生成 C++ 代码编译成本地可执行文件或者 HTML 代码。在各种后端中，除了 wxWidgets 和 Winforms 使用原生组件外，其他都是使用图形引擎绘制或者生成 HTML 代码。</p><p><img src=haxeui.jpg alt=img></p><p><a href=https://haxe.org/ target=_blank rel=noopener>Haxe</a> 也是一个比较有意思的语言。它本身不能进行本地编译，而是转译成其他语言，比如 Lua, PHP, Java, Python, C++, C# 等，也可以编译成 Neko 或 HashLink 虚拟机的字节码（详见 <a href=https://haxe.org/documentation/introduction/compiler-targets.html target=_blank rel=noopener>Haxe Compiler Targets</a>）。Haxe 语言诞生于 2005 年，算是历史久远了，然而其社区却一直不温不火，网上也很难找到中文资料。 <a href=https://lib.haxe.org/ target=_blank rel=noopener>Haxelib</a> 上的开发者提交的三方库数量和 Python 的 PyPi 相比，只能说是聊胜于无。</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Haxe/>Haxe</a></li></ul></div><div class=catalogue-item><time datetime="2024-01-19 00:00:00 +0000 UTC" class=catalogue-time>2024年1月19日</time>
<a href=https://www.fournoas.com/posts/running-lazarus-ide-in-wsl/ class=catalogue-title>在 WSL 中运行 Lazarus IDE</a><div class=catalogue-line></div><p><p>Free Pascal 支持交叉编译，理论上是可以在 Windows 平台上编译 Linux 可执行文件的，但是官方没有提供相关文档，且不建议这么做。除了使用虚拟机外，在 Windows 平台上还可以使用 WSL 来交叉编译 Lazarus 项目。</p><h2 id=安装-ide-和-free-pascal-编译器>安装 IDE 和 Free Pascal 编译器</h2><p>本人 WSL 安装的是 Ubuntu 系统，但是 apt 源中自带的 Lazarus 2.0 版本太过陈旧，建议直接从官网<a href="https://www.lazarus-ide.org/index.php?page=downloads" target=_blank rel=noopener>下载</a>最新版。这里下载 64 位版本，包括以下三个安装文件：</p><ul><li><a href=https://sourceforge.net/projects/lazarus/files/Lazarus%20Linux%20amd64%20DEB/Lazarus%203.0/lazarus-project_3.0.0-0_amd64.deb/download target=_blank rel=noopener>lazarus-project_3.0.0-0_amd64.deb</a></li><li><a href=https://sourceforge.net/projects/lazarus/files/Lazarus%20Linux%20amd64%20DEB/Lazarus%203.0/fpc-laz_3.2.2-210709_amd64.deb/download target=_blank rel=noopener>fpc-laz_3.2.2-210709_amd64.deb</a></li><li><a href=https://sourceforge.net/projects/lazarus/files/Lazarus%20Linux%20amd64%20DEB/Lazarus%203.0/fpc-src_3.2.2-210709_amd64.deb/download target=_blank rel=noopener>fpc-src_3.2.2-210709_amd64.deb</a></li></ul><p>在 WSL 终端里执行下面的命令进行安装：</p>&mldr;&mldr;</p><ul class=catalogue-tags><li>#<a href=/tags/Lazarus/>Lazarus</a></li><li>#<a href=/tags/WSL/>WSL</a></li></ul></div><div class=catalogue-item><time datetime="2023-12-28 11:59:19 +0800 +0800" class=catalogue-time>2023年12月28日 11:59:19</time><p class=head><a href=https://www.fournoas.com/moments/202312/1703735959/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><p>爱国主义的精髓是“爱”，而某“爱国主义”的精髓却是“恨”。它们恨美国、恨日本、恨“八国联军”（俄罗斯除外），唯独爱的只是那个迫害人民的东西。</p></div></div></div><div class=pagination><a href=/page/2/ class="left arrow">上一页</a>
<a href=/page/4/ class="right arrow">下一页</a>
<span><sup>3</sup> &frasl; <sub>40</sub></span></div></main><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/scala.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nim.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/powershell.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/nginx.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/delphi.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/dos.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/haxe.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-svelte/dist/svelte.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=/js/code.js></script><script>hljs.highlightAll(),hljs.initLineNumbersOnLoad(),hljs.initSelectLines()</script><footer><span>&copy; <time datetime="2024-10-23 02:32:05.79986706 +0000 UTC m=+0.170410901">2024</time> fournoas.com. Powered by <a href=https://gohugo.io>Hugo</a>.</span></footer></body></html>