<!doctype html><html lang=zh-CN><head><meta name=generator content="Hugo 0.147.0"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="朴素技术博客"><title>白汤四物</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/fontawesome.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/regular.min.css crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js crossorigin=anonymous></script><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/rainbow.min.css crossorigin=anonymous referrerpolicy=no-referrer><link href rel=alternate type=application/rss+xml title=白汤四物><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-3GNL63B62Q"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3GNL63B62Q")</script></head><body><nav class=nav><div class=nav-container><h1 class=nav-title><a href=/><img src=/logo.png alt=白汤四物></a></h1><ul><li><a href=/posts/><span>文章</span></a></li><li><a href=/moments/><span>动态</span></a></li><li><a href=/categories/><span>分类</span></a></li><li><a href=/tags/><span>标签</span></a></li><li><a href=/search/><span>搜索</span></a></li><li><a href=/about/><span>关于</span></a></li></ul></div></nav><div class=banner><main><blockquote><p>Ours is essentially a tragic age, so we refuse to take it tragically. The cataclysm has happened, we are among the ruins, we start to build up new little habitats, to have new little hopes. It is rather hard work: there is now no smooth road into the future: but we go round, or scramble over the obstacles. We've got to live, no matter how many skies have fallen.</p></blockquote><p align=right>― D.H. Lawrence, Lady Chatterley's Lover</p></main></div><main><div class=catalogue><div class=catalogue-item><time datetime="2021-07-05 00:00:00 +0000 UTC" class=catalogue-time>2021年7月5日</time>
<a href=/posts/lock-free-queue-is-not-lock-free/ class=catalogue-title>无锁队列并非真的无锁</a><div class=catalogue-line></div><div class=catalogue-summary><p>近几年经常被提起的<a href=https://coolshell.cn/articles/8239.html target=_blank rel=noopener>无锁队列</a>，似乎被视为解决高并发的万能良药。无锁队列是一种通过CPU提供的原子操作指令 <abbr title="Compare And Swap">CAS</abbr> 和 <abbr title="Fetch And Add">FAA</abbr>，以及循环重试，来实现的<a href=https://zh.wikipedia.org/wiki/%E4%B9%90%E8%A7%82%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6 target=_blank rel=noopener>乐观并发控制</a>算法。<strong>虽然无锁队列算法并未显式调用锁，但事实上，在多核环境下，所谓的无锁队列算法本质上就是实现了锁的功能。</strong></p><p>首先，<strong>原子指令本身就是一种带锁的操作</strong>，只是锁的颗粒度较小而已。单核 CPU 系统的情况比较简单，因为单条指令操作总是原子的；而 <abbr title="Symmetric multiprocessing">SMP</abbr> 的情况就比较复杂了，需要使用缓存一致性（<a href=https://en.wikipedia.org/wiki/Cache_coherence target=_blank rel=noopener>Cache Coherence</a>）的机制来确保操作的原子地执行。</p><div class=note><div class=note-content><p>早期 CPU 不支持原生的 <code>CMPXCHG</code> 指令，要实现 CAS 原子操作，必须先用 <code>LOCK</code> 指令锁住总线或需要访问的内存块。</p><p>&mldr;&mldr;</p></div></div><div class=catalogue-item><time datetime="2021-07-01 16:03:44 +0800 +0800" class=catalogue-time>2021年7月1日 16:03:44</time><p class=head><a href=/moments/202107/1625126624/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><div class=images><div class="box img-preview" data-src=/moments/202107/1625126624/01.jpg style=background-image:url(/moments/202107/1625126624/01.jpg)></div><div class="box img-preview" data-src=/moments/202107/1625126624/02.jpg style=background-image:url(/moments/202107/1625126624/02.jpg)></div></div></div><ul class=catalogue-tags><li>#<a href=/tags/%E5%AD%A6%E5%9B%9B%E5%8F%B2%E5%AE%88%E5%88%9D%E5%BF%83/>学四史守初心</a></li></ul></div><div class=catalogue-item><time datetime="2021-06-30 18:31:27 +0800 +0800" class=catalogue-time>2021年6月30日 18:31:27</time><p class=head><a href=/moments/202106/1625049087/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>评论《<a href="https://s.weibo.com/weibo?q=%23%E8%A2%AB%E7%BD%97%E7%BF%94%E7%9A%84%E4%B8%89%E8%A7%82%E6%83%8A%E8%89%B3%E5%88%B0%E4%BA%86%23" target=_blank rel=noopener>#被罗翔的三观惊艳到了#</a>》：</span></p><div class=catalogue-moment><p>宁静的夏天<br>知了都睡了<br>蛆虫在狂欢<br>它们在粪坑里起誓<br>终有一天<br>变成苍蝇<br>乌乌泱泱<br>遮天蔽日</p></div></div><div class=catalogue-item><time datetime="2021-06-30 15:14:56 +0800 +0800" class=catalogue-time>2021年6月30日 15:14:56</time><p class=head><a href=/moments/202106/1625037296/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>分享《<a href=https://www.sohu.com/a/347891812_583794 target=_blank rel=noopener>慈禧抽调军费给自己办大寿，她给出理由：我不大办就会被洋人欺负 </a>》：</span></p><div class=catalogue-moment><div class=images><div class="box img-preview" data-src=/moments/202106/1625037296/01.jpg style=background-image:url(/moments/202106/1625037296/01.jpg)></div></div></div></div><div class=catalogue-item><time datetime="2021-06-29 00:00:00 +0000 UTC" class=catalogue-time>2021年6月29日</time>
<a href=/posts/a-conceit-of-supposed-experts/ class=catalogue-title>「专业人士」的自负</a><div class=catalogue-line></div><div class=catalogue-summary><p>家中长辈患有糖尿病，一直服用法国施维雅的格列齐特缓释片，血糖控制得很好。然而自从药品集采后，医院就只有杭州国光的格列齐特缓释胶囊了。但是国产药效果并不好，无法有效控制住血糖，换回原研的格列齐特缓释片血糖就能控制住。通过和病友交流，也发现这并不是孤立现象。</p><p>看到网上有人讨论第五批国家药品集采的新闻，我就据实讲出自己的切身遭遇。没想到犹如将鞭炮扔进了粪坑——激起千层屎。各路「专业人士」纷纷跳出来指责我造谣、不懂瞎说、给行业抹黑，满口「一致性评价」、「DMPK」云云。简而言之就是要我闭嘴。</p><p>&mldr;&mldr;</p></div></div><div class=catalogue-item><time datetime="2021-06-15 00:00:00 +0000 UTC" class=catalogue-time>2021年6月15日</time>
<a href=/posts/parallel-and-concurrent/ class=catalogue-title>「并行」和「并发」</a><div class=catalogue-line></div><div class=catalogue-summary><p>从中文字面上还是挺难区分「并行」和「并发」的，两者都带着一个「并」，似乎是个同义词。而在计算机科学中，「并行」和「并发」完全是两个不同的概念。两者并非互斥，也有相关联，但含义绝不可混淆。</p><h2 id=英文辨析>英文辨析</h2><p>「并行」的英文是 <code>parallel</code>，「并发」的英文是 <code>concurrent</code>。有意思的是，台湾将前者翻译成「平行」，后者翻译成「并行」。可见中文翻译基本是词不达意的。要区分两者还需从英文原文着手。</p><p>&mldr;&mldr;</p></div></div><div class=catalogue-item><time datetime="2021-06-15 00:00:00 +0000 UTC" class=catalogue-time>2021年6月15日</time>
<a href=/posts/the-Novocherkassk-tragedy/ class=catalogue-title>新切尔卡斯克事件</a><div class=catalogue-line></div><div class=catalogue-summary><p>新切尔卡斯克事件，又称作<strong>新切尔卡斯克惨案</strong>（俄语：Новочеркасский Расстрел）。事件发生于1962年6月2日，苏联军队和克格勃对新切尔卡斯克手无寸铁的示威工人开枪。事件造成26人死亡，87人受伤。事后200多人被捕，其中7人遭到处决。2020年的俄罗斯电影《<a href=https://zh.wikipedia.org/wiki/%E4%BA%B2%E7%88%B1%E7%9A%84%E5%90%8C%E5%BF%97 target=_blank rel=noopener>亲爱的同志</a>》所描述的便是这起事件。</p><figure><img src=/posts/the-Novocherkassk-tragedy/monument.jpg alt=1962年新切尔卡斯克工人流血事件纪念石><figcaption><p>1962年新切尔卡斯克工人流血事件纪念石</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags></ul></div><div class=catalogue-item><time datetime="2021-06-13 19:37:03 +0800 +0800" class=catalogue-time>2021年6月13日 19:37:03</time><p class=head><a href=/moments/202106/1623584223/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><p>这位王者荣耀历史顾问说的没错——毕竟“一切历史都是当代史”。</p><p>就像苏联历史学家不会承认卡廷森林惨案，也不会承认乌克兰大饥荒；土耳其历史学家不会承认亚美尼亚大屠杀一样。</p><p>这样说来，英国历史学家承认爱尔兰大饥荒简直就是犯了叛国罪。</p><div class=images><div class="box img-preview" data-src=/moments/202106/1623584223/01.jpeg style=background-image:url(/moments/202106/1623584223/01.jpeg)></div><div class="box img-preview" data-src=/moments/202106/1623584223/02.jpeg style=background-image:url(/moments/202106/1623584223/02.jpeg)></div></div></div></div><div class=catalogue-item><time datetime="2021-06-10 00:00:00 +0000 UTC" class=catalogue-time>2021年6月10日</time>
<a href=/posts/self-diagnosis-of-cold-and-fever/ class=catalogue-title>感冒和发烧的自我诊断</a><div class=catalogue-line></div><div class=catalogue-summary><p>感冒或发烧去医院看病，一来耽误时间，二来容易引起交叉感染。现在很多医院提供诊前检查服务，可以挂号后直接做血常规检查，节省了候诊时间。如果你能读懂血常规报告，完全可以自我诊断服药。</p><p>首先，我们需要明确感冒或发烧究竟是病毒感染还是细菌感染，或者是合并感染。只有细菌感染才需要服用抗生素。而病毒感染引起的发烧更为常见，这种情况不需要服用抗生素。</p><p>&mldr;&mldr;</p></div><ul class=catalogue-tags></ul></div><div class=catalogue-item><time datetime="2021-06-05 23:22:07 +0800 +0800" class=catalogue-time>2021年6月5日 23:22:07</time><p class=head><a href=/moments/202106/1622906527/ style=float:right><span class="fa-solid fa-arrow-up-right-from-square"></span></a>
<span class=author>Fournoas
</span><span class=action>说：</span></p><div class=catalogue-moment><p>问：躺平有用吗？</p><p>答：没用。因为会躺枪</p><div class=images><div class="box img-preview" data-src=/moments/202106/1622906527/01.jpeg style=background-image:url(/moments/202106/1622906527/01.jpeg)></div></div></div><ul class=catalogue-tags><li>#<a href=/tags/Radio-Yerevan/>Radio Yerevan</a></li></ul></div></div><div class=pagination><a href=/page/33/ class="left arrow">上一页</a>
<a href=/page/35/ class="right arrow">下一页</a>
<span><sup>34</sup> &frasl; <sub>45</sub></span></div></main><script src=/js/main.js></script><footer><span>&copy; <time datetime="2025-04-29 09:42:17.868573266 +0000 UTC m=+0.516045538">2025</time> fournoas.com. Powered by <a href=https://gohugo.io/>Hugo</a> 0.147.0.</span></footer></body></html>